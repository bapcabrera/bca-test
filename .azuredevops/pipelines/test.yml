variables:
- name: buildPool
  value: 'Azure Pipelines'

jobs:
- job: Test
  strategy:
    matrix:
      windows:
        poolName: ${{ variables.buildPool }}
        vmImage: windows-latest
      linux:
        poolName: ${{ variables.buildPool }}
        vmImage: ubuntu-latest
      macOS:
        poolName: ${{ variables.buildPool }}
        vmImage: macOS-latest
  pool:
    name: $(poolName)
    vmImage: $(vmImage)
  steps:
  - checkout: none
  - powershell: Write-Host "$(Agent.OS)"